{% extends "parts/kt-portlet.html" %}
{% load static %}

{#{% block portlet-title %}#}
{#       <h3 class="kt-portlet__head-title">#}
{#       Recommendation#}
{#       </h3>#}
{#{% endblock %}#}

{% block portlet-title %}
    <div style="margin-top: 5px; margin-bottom: 5px">
{#        <h2 class="" style="margin-bottom: 0px"> Recommendation#}
{#            {% include "parts/info-box.html" with id="rec-info" %}#}
{#        </h2>#}
{#        <div id="rec-info" style="display:none; margin-top: -3px; margin-bottom: 3px">#}
{#            Using the <a href="https://microsoft.github.io/FLAML/">FLAML</a> autoML library#}
{#            we display the current scores of the different classification estimators (in black)#}
{#            while keeping track of the current best estimator (in red).#}
{#        </div>#}


        <form id="start-form" style="margin-top: 5px; margin-bottom: 10px">
            {% csrf_token %}
            <button id="play-recommendation" type="submit" class="play-btn"
                    style="padding-top: 4px ; padding-bottom:4px">
                <i class="mdi mdi-24px mdi-play"></i>
                <i style="display:none" class="mdi mdi-24px mdi-pause"></i>

            </button>
            <button id="reload-recommendation" type="submit" class="reload-btn"
            >
                <i class="mdi mdi-24px mdi-reload"></i>
                <i style="display:none" class="mdi mdi-24px mdi-pause"></i>

            </button>
            <div id="start-button-right" style="display: inline;">
                <h6 id="play-recommendation-info-text" style="display: inline;"></h6>
            </div>
        </form>
    </div>
{% endblock %}

{#{% block portlet-toolbar %}#}
{#    <div>#}
{#        <div>#}
{#            <div style="position:absolute;right:0;top:0">#}
{#                {% include "parts/info-box.html" with id="rec-info" %}#}
{#            </div>#}
{#        </div>#}
{#        #}
{#    </div>#}
{##}
{#{% endblock %}#}
{% block portlet-body %}
    <div class="row" style="height:520px">
        <div class="col-md-9">
            <div id="flaml-chart"></div>
        </div>
        <div class="form-group col-md-3">
            <form class="form-group" id="recommendation_settings_form" enctype="multipart/form-data">
                {% csrf_token %}
                {% for field in flaml_settings_form %}
                    <div class="form-group">
                        {% if field.field.widget.input_type == 'checkbox' %}
                            {{ field.label_tag }}
                            {% for v,e in field.field.widget.choices %}
                                <div class="checkbox">
                                    <label class="kt-checkbox">
                                        <input type="checkbox" name="{{ field.name }}" value="{{ v }}"
                                               checked="">
                                        {{ e }}
                                        <span></span>
                                    </label>
                                </div>
                            {% endfor %}
                        {% else %}
                            {{ field.label_tag }}
                            {{ field }}
                        {% endif %}
                    </div>
                {% endfor %}
                {% include "parts/range_slider.html" %}
            </form>
        </div>

    </div>
{% endblock %}
